/*!CK:750350795!*//*1385591818,173213499*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Zl3Gz"]); }

__d("concatMap",[],function(a,b,c,d,e,f){function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;});
__d("BrowseFacebarHighlighter",["copyProperties","CSS","csx","NodeHighlighter"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('CSS'),i=b('csx'),j=b('NodeHighlighter'),k={};g(k,j,{getHighlightCandidates:function(){return ["._53ad"];},isDiscardNode:function(l){return h.hasClass(l,'DefaultText');},createSegmentedRegex:function(l){l=this.escapeAndAddBidirectionalCharsToTokens(l);return '(^|\\s|\\b)('+l.join('|')+')';}});e.exports=k;});
__d("objPull",["createObjectFrom"],function(a,b,c,d,e,f){"use strict";var g=b('createObjectFrom'),h=function(i){var j=Array.prototype.slice.call(arguments,1);return j.length?g(j,j.map(function(k){return i[k];})):h.bind(null,i);};e.exports=h;});
__d("BrowseLogger",["Banzai","copyProperties","objMap","objPull","Run"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties'),i=b('objMap'),j=b('objPull'),k=b('Run'),l='browse',m='browse_aggr',n=null,o={},p={},q=function(y){if(y==null)return 'undefined';var z=y.tagName.toLowerCase(),aa=y.id,ba=y.className;if(aa)z+='#'+aa;if(ba)z+='.'+ba;return z;};function r(){n=null;o={};p={};}function s(y){h(y,{clientSessionID:n});return y;}function t(y){g.post(l,s(y));}function u(){if(n===null)return;p.aggregated=o;g.post(m,s(p));r();}function v(y){o[y]=(o[y]||0)+1;}function w(y){h(p,y);}k.onUnload(u);var x={newSession:function(){u();n=Math.random().toString();if(!p.start_time)p.start_time=Math.round(Date.now()/1000);},logResultClick:function(y,z,aa,ba){var ca={action:'result_click',click_type:y.ct||'result',section:y.section||'unknown',id:y.id||0,path:y.path||'unknown',rank:y.rank||0,referrer:y.referrer||'unknown',result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,abtest_version:y.abtest_version||'NONE',abtest_params:y.abtest_params,typeahead_sid:y.typeahead_sid||'',result_title:y.result_title||'unknown',result_href:y.result_href||'unknown',result_semantic:y.result_semantic||'unknown',type:y.experience_type||'unknown',click_action:aa,sub_id:y.sub_id,owner_id:y.owner_id};if(z.tn)ca.tn=z.tn;if(y.cst)ca.click_subtype=y.cst;v('result_click_'+ca.click_type);w({path:ca.path,referrer:ca.referrer,result_type:ca.result_type,session_id:ca.session_id,abtest_version:ca.abtest_version,abtest_params:ca.abtest_params,typeahead_sid:ca.typeahead_sid});t(ca);if(!y.id)t({action:'logging_error',click_action:aa,click_type:ca.click_type,attributes:JSON.stringify(y),element:i(j(ba,'srcElement','target','toElement'),q),event:j(ba,'button','clientX','clientY','ctrlKey','layerX','layerY','offsetX','offsetY','pageX','pageY','screenX','screenY','shiftKey','type','x','y')});},logControlsClick:function(y,z){var aa={action:'controls_click',click_type:z,path:y.path||'unknown',referrer:y.referrer||'unknown',session_id:y.session_id||0,query_time:y.query_time,filter_name:y.name||'unknown',typeahead_sid:y.typeahead_sid||'',result_type:y.result_type||'unknown',type:y.experience_type||'unknown'};if(y.cst)aa.click_subtype=y.cst;v('controls_click_'+z);w({path:aa.path,referrer:aa.referrer,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logResultHover:function(y,z){var aa={action:'result_hover',id:y.id||0,path:y.path||'unknown',rank:y.rank,result_type:y.result_type||'unknown',session_id:y.session_id||0,query_time:y.query_time,time_elapsed:z,typeahead_sid:y.typeahead_sid||0,type:y.experience_type||'unknown'};v('result_hover');w({path:aa.path,session_id:aa.session_id,typeahead_sid:aa.typeahead_sid});t(aa);},logScroll:function(y,z,aa,ba){var ca={action:'scroll',encoded_query:y,fragments:z,position:aa,session_id:ba||0};t(ca);},logNUXStep:function(y){var z={action:'nux_step',step:y};t(z);},logDisambiguationImpression:function(y,z,aa,ba,ca){var da={action:'disambiguation_imp',ids:ba,name:y,path:aa,type:z,typeahead_sid:ca};t(da);},logDisambiguationClick:function(y,z,aa,ba,ca,da){var ea={action:'disambiguation_clk',id:ca,index:ba,name:y,path:aa,type:z,typeahead_sid:da};t(ea);}};e.exports=x;});
__d("LitestandNewsfeedCountUpdater",["Arbiter","AsyncRequest","LitestandMessages","LitestandSidebarBookmarkConfig","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('LitestandMessages'),j=b('LitestandSidebarBookmarkConfig'),k=b('emptyFunction'),l,m;function n(){m&&clearTimeout(m);if(l)return;m=setTimeout(o,j.nf_count_query_interval_ms,false);}function o(){if(l)return;new h().setURI('/ajax/litestand/newsfeed_count').setHandler(function(r){if(l)return;p(r.getPayload());n();}).setAllowCrossPageTransition(true).send();}function p(r){g.inform(i.UPDATE_HOME_COUNT,{count:r,onHome:l},g.BEHAVIOR_STATE);}var q={init:function(){q.init=k;g.subscribe(i.NEWSFEED_LOAD,function(){l=true;p(0);});g.subscribe(i.LEAVE_HOME,function(){l=false;n();});n();}};e.exports=q;});
__d("clip",[],function(a,b,c,d,e,f){function g(h,i,j){return Math.min(Math.max(h,i),j);}e.exports=g;});
__d("FacebarTypeahead",["Arbiter","Typeahead","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Typeahead'),i=b('copyProperties'),j=b('emptyFunction');for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n,o,p,q,r,s){"use strict";h.call(this,n,o,p,q);this.getCore();this.proxyEvents();this.initBehaviors(r||[]);var t=this.core.subscribe('focus',function(){if(s)s.init(this);this.core.unsubscribe(t);this.data.bootstrap(false);this.core.input.focus();}.bind(this));this.data.bootstrap(true);this.inform('init',this,g.BEHAVIOR_PERSISTENT);g.inform('Facebar/init',this,g.BEHAVIOR_PERSISTENT);}m.prototype.proxyEvents=function(){"use strict";var n,o=[],p=null,q=(function(){while(n=o.shift())this.inform(n[0],n[1]);p=null;}).bind(this);[this.data,this.view,this.core].forEach(function(r){r.subscribe(r.events,function(s,t){o.push([s,t]);p=p||setTimeout(q,0);}.bind(this));},this);};i(m.prototype,{init:j});e.exports=m;});
__d("FacebarTypeaheadL2Terms",["FacebarJSConstants"],function(a,b,c,d,e,f){var g=b('FacebarJSConstants'),h=3,i={addL2Terms:function(j,k,l,m){if(!m.suggestBackendL2Terms)return j;var n=[],o=[];j.forEach(function(q){if(q.exactMatchKeywords){q.tags.l2_suggestion=true;n.push(q);}else if(q.isKeywordL2){q.tags.l2_suggestion=true;q.type='l2suggestion';n.push(q);}else if(q.type!=='keywords')o.push(q);});var p=0;return o.map(function(q){if(g.entityTypes[q.type])if(p<h){p++;}else if(n.length)return n.pop();return q;});}};e.exports=i;});